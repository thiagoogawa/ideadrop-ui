import{u as f,b as v,r as t,g as y,j as s,a as N}from"./index-QvbReswO.js";import{u as j}from"./useMutation-BDNuLhbA.js";const E=function(){const d=f(),{setAccessToken:u,setUser:c}=v(),[a,m]=t.useState(""),[o,i]=t.useState(""),[r,p]=t.useState(""),[n,g]=t.useState(""),{mutateAsync:x,isPending:l}=j({mutationFn:y,onSuccess:e=>{u(e.accessToken),c(e.user),d({to:"/ideas"})},onError:e=>{g(e.message)}}),b=async e=>{e.preventDefault();try{await x({name:a,email:o,password:r})}catch(h){console.log(h.message)}};return s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Register"}),n&&s.jsx("div",{className:"bg-red-100 text-red-700 px-4 py-2 rounded mb-4",children:n}),s.jsxs("form",{onSubmit:b,className:"space-y-4",children:[s.jsx("input",{type:"text",className:"w-full border border-gray rounded-md p-2",placeholder:"Name",value:a,onChange:e=>m(e.target.value),autoComplete:"off"}),s.jsx("input",{type:"email",className:"w-full border border-gray rounded-md p-2",placeholder:"Email",value:o,onChange:e=>i(e.target.value),autoComplete:"off"}),s.jsx("input",{type:"password",className:"w-full border border-gray rounded-md p-2",placeholder:"Password",value:r,onChange:e=>p(e.target.value),autoComplete:"off"}),s.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded-md w-full disabled:opacity-50",disabled:l,children:l?"Registering...":"Register"})]}),s.jsxs("p",{className:"text-sm text-center mt-4",children:["Already have an account?"," ",s.jsx(N,{to:"/login",className:"text-blue-600 hover:underline font-medium",children:"Login"})]})]})};export{E as component};
