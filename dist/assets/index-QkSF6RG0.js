import{R as c,q as u,u as m,b as p,d as x,j as e,a as o,e as h}from"./index-QvbReswO.js";import{u as y}from"./useSuspenseQuery-CSeaT5aj.js";import{u as b}from"./useMutation-BDNuLhbA.js";const f=t=>u({queryKey:["idea",t],queryFn:()=>h(t)}),D=function(){const{ideaId:s}=c.useParams(),{data:a}=y(f(s)),d=m(),{user:n}=p(),{mutateAsync:r,isPending:i}=b({mutationFn:()=>x(s),onSuccess:()=>{d({to:"/ideas"})}}),l=async()=>{window.confirm("Are you sure you want to delete this idea?")&&await r()};return e.jsxs("div",{className:"p-4",children:[e.jsx(o,{to:"/ideas",className:"text-blue-500 underline block mb-4",children:"Back To Ideas"}),e.jsx("h2",{className:"text-2xl font-bold",children:a.title}),e.jsx("p",{className:"mt-2",children:a.description}),n&&n.id===a.user&&e.jsxs(e.Fragment,{children:[e.jsx(o,{to:"/ideas/$ideaId/edit",params:{ideaId:s},className:"inline-block text-sm bg-yellow-500 hover:bg-yellow-600 text-white mt-4 mr-2 px-4 py-2 rounded transition",children:"Edit"}),e.jsx("button",{onClick:l,disabled:i,className:"text-sm bg-red-600 hover:bg-red-700 text-white mt-4 px-4 py-2 rounded transition disabled:opacity:50",children:i?"Deleting...":"Delete"})]})]})};export{D as component};
