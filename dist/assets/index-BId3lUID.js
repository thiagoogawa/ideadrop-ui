import{u as f,r as s,j as e,c as x}from"./index-QvbReswO.js";import{u as h}from"./useMutation-BDNuLhbA.js";const N=function(){const d=f(),[r,c]=s.useState(""),[l,u]=s.useState(""),[o,m]=s.useState(""),[n,b]=s.useState(""),{mutateAsync:g,isPending:i}=h({mutationFn:x,onSuccess:()=>{d({to:"/ideas"})}}),p=async t=>{if(t.preventDefault(),!r.trim()||!l.trim()||!o.trim()){alert("Please fill in all fields");return}try{await g({title:r,summary:l,description:o,tags:n.split(",").map(a=>a.trim()).filter(a=>a!=="")})}catch(a){console.error(a),alert("Something went wrong")}};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsx("h1",{className:"text-2xl font-bold",children:"Create New Idea"})}),e.jsxs("form",{onSubmit:p,className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-gray-700 font-medium mb-1",children:"Title"}),e.jsx("input",{id:"title",type:"text",value:r,onChange:t=>c(t.target.value),className:"w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter idea title"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"summary",className:"block text-gray-700 font-medium mb-1",children:"Summary"}),e.jsx("input",{id:"summary",type:"text",value:l,onChange:t=>u(t.target.value),className:"w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter idea summary"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"body",className:"block text-gray-700 font-medium mb-1",children:"Description"}),e.jsx("textarea",{id:"body",value:o,onChange:t=>m(t.target.value),rows:6,className:"w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Write out the description of your idea"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"tags",className:"block text-gray-700 font-medium mb-1",children:"Tags"}),e.jsx("input",{id:"tags",type:"text",value:n,onChange:t=>b(t.target.value),className:"w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"optional tags, comma separated"})]}),e.jsx("div",{className:"mt-5",children:e.jsx("button",{type:"submit",disabled:i,className:"block w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-2 rounded-md transition disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Creating...":"Create Idea"})})]})]})};export{N as component};
