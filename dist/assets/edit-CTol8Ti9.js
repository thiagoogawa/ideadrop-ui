import{h as y,u as f,q as j,r as o,i as v,j as e,a as N,e as I}from"./index-QvbReswO.js";import{u as S}from"./useSuspenseQuery-CSeaT5aj.js";import{u as w}from"./useMutation-BDNuLhbA.js";const k=r=>j({queryKey:["idea",r],queryFn:()=>I(r)}),T=function(){const{ideaId:a}=y.useParams(),c=f(),{data:s}=S(k(a)),[n,m]=o.useState(s.title),[i,p]=o.useState(s.summary),[l,b]=o.useState(s.description),[d,g]=o.useState(s.tags.join(", ")),{mutateAsync:x,isPending:u}=w({mutationFn:()=>v(a,{title:n,summary:i,description:l,tags:d.split(",").map(t=>t.trim()).filter(Boolean)}),onSuccess:()=>{c({to:"/ideas/$ideaId",params:{ideaId:a}})}}),h=async t=>{t.preventDefault(),await x()};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Edit Idea"}),e.jsx(N,{to:"/ideas/$ideaId",params:{ideaId:a},className:"text-sm text-blue-600 hover:underline",children:"← Back To Idea"})]}),e.jsxs("form",{onSubmit:h,className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-gray-700 font-medium mb-1",children:"Title"}),e.jsx("input",{id:"title",type:"text",value:n,onChange:t=>m(t.target.value),className:"w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter idea title"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"summary",className:"block text-gray-700 font-medium mb-1",children:"Summary"}),e.jsx("input",{id:"summary",type:"text",value:i,onChange:t=>p(t.target.value),className:"w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter idea summary"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"body",className:"block text-gray-700 font-medium mb-1",children:"Description"}),e.jsx("textarea",{id:"body",value:l,onChange:t=>b(t.target.value),rows:6,className:"w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Write out the description of your idea"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"tags",className:"block text-gray-700 font-medium mb-1",children:"Tags"}),e.jsx("input",{id:"tags",type:"text",value:d,onChange:t=>g(t.target.value),className:"w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"optional tags, comma separated"})]}),e.jsx("div",{className:"mt-5",children:e.jsx("button",{type:"submit",disabled:u,className:"block w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-2 rounded-md transition disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Updating...":"Update Idea"})})]})]})};export{T as component};
